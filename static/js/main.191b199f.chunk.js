(this["webpackJsonpcommand-line-generator"]=this["webpackJsonpcommand-line-generator"]||[]).push([[0],[,,,,function(e,t,n){},,,,,,function(e,t,n){},function(e,t,n){},,function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){"use strict";n.r(t);var c=n(1),o=n.n(c),a=n(5),s=n.n(a),i=(n(10),n(2)),r=(n(11),n(0));function l(e){var t=e.selectedDeployment,n=e.setSelectedDeployment,c=e.setSelectedAction,o=e.hasNamespace,a=e.setHasNamespace,s=e.namespace,i=e.setNamespace,l=e.setOption,d=e.setGeneratedURI;return Object(r.jsxs)("div",{className:"deployment-container",children:[Object(r.jsxs)("div",{className:"deployment-type",children:[Object(r.jsx)("h4",{className:"section",children:"Select deployment:"}),Object(r.jsxs)("select",{onChange:function(e){n(e.target.value),i(""),a(!1),c("Function"),l(""),d("")},value:t,className:"dropdown-menu",children:[Object(r.jsx)("option",{value:"select-deployment",children:"Select Your Deployment Type..."}),Object(r.jsx)("option",{value:"Docker",children:"Docker"}),Object(r.jsx)("option",{value:"Docker Compose",children:"Docker Compose"}),Object(r.jsx)("option",{value:"Kubernetes",children:"Kubernetes"})]})]}),"Kubernetes"===t&&Object(r.jsxs)("div",{children:[Object(r.jsxs)("div",{className:"namespace-check",children:[o?Object(r.jsx)("input",{type:"checkbox",value:o,onChange:function(){return a(!o)},checked:!0}):Object(r.jsx)("input",{type:"checkbox",value:o,onChange:function(){return a(!o)}}),Object(r.jsx)("label",{className:"namespace-label",name:"namespace",children:"I am using a namespace."})]}),o&&Object(r.jsx)("div",{className:"namespace-input",children:Object(r.jsx)("input",{type:"text",placeholder:"$NAMESPACE",value:s,onChange:function(e){return i(e.target.value)},className:"text-input"})})]})]})}function d(e){var t=e.value,n=e.opt;return Object(r.jsx)("option",{value:t,opt:n,children:t})}function m(e){var t=e.defaultValue,n=e.map,o=e.optionValues,a=e.option,s=e.setOption,i=e.selectedDeployment,l=e.setSelectedAction,m=e.selectedAction,u=e.command,p=e.setCommand,j=e.hasNamespace,h=e.namespace,b=e.setGeneratedURI;return Object(c.useEffect)((function(){var e=n[m].command,t=n[m].command2?n[m].command2:null;p(j&&""===a?"".concat(e," -n ").concat(h," ").concat(t||""):j&&""!==a?"".concat(e).concat(a," -n ").concat(h," ").concat(t||""):j||""===a?"".concat(e).concat(t||""):"".concat(e).concat(a," ").concat(t||""))}),[p,m,n,h,j,a,u]),Object(r.jsxs)("div",{className:"deployment-type",children:[Object(r.jsx)("h4",{className:"section",children:"Select action to take:"}),Object(r.jsx)("select",{onChange:function(e){l(e.target.value),s(""),b("")},defaultValue:t,value:i,className:"dropdown-menu",children:o&&o.map((function(e,t){return Object(r.jsx)(d,{value:e,opt:n[e].option||null},"option-".concat(t))}))})]})}var u={$schema:"http://json-schema.org/draft-07/schema#",$id:"github.schema.json#",title:"List of Commands",description:"A list of frequently-used commands for each Sourcegraph deployment type.",allowComments:!0,type:"object",additionalProperties:!1,Docker:{Function:{value:"Function",command:"[CHOOSE FUNCTION]",description:"Default option"},"Get Logs":{value:"Get Logs",command:"docker logs ",option:"$CONTAINER",description:"Get the logs of a container."},"List Containers":{value:"List Containers",command:"docker ps -a ",description:"Get a list of containers."},"Install/Run Sourcegraph":{value:"Insall/Run Sourcegraph",command:"docker run -d --publish 7080:7080 --publish 127.0.0.1:3370:3370 --rm --volume ~/.sourcegraph/config:/etc/sourcegraph --volume ~/.sourcegraph/data:/var/opt/sourcegraph sourcegraph/server:",option:"$VERSION",description:"The docker run command first creates a writeable container layer over the specified image, and then starts it using the specified command."},"Upgrade Sourcegraph":{value:"Upgrade Sourcegraph",command:"docker run -d --publish 7080:7080 --publish 127.0.0.1:3370:3370 --rm --volume ~/.sourcegraph/config:/etc/sourcegraph --volume ~/.sourcegraph/data:/var/opt/sourcegraph sourcegraph/server:",option:"$VERSION",description:"All you need to do to upgrade Sourcegraph is to restart your Docker server with a new image tag."},"Run Bash Shell":{value:"Run Bash Shell",command:"docker exec -it ",option:"$CONTAINER",command2:" bash",description:"This allows you to execute an interactive bash shell on a running container."},"Kill Container":{value:"Kill Container",command:"docker kill ",option:"$CONTAINER",description:"Kill one or more containers."},"Restart Container":{value:"Restart Container",command:"docker restart ",option:"$CONTAINER",description:"Restart one or more containers."},"Run Interactive Shell":{value:"Run Interactive Shell",command:"docker exec -it ",option:"$CONTAINER",command2:" shell",description:"This allows you to execute an interactive shell on a running container."}},"Docker Compose":{Function:{value:"Function",command:"[CHOOSE FUNCTION]",description:"Default option"},"Get Logs":{command:"docker-compose logs ",option:"$CONTAINER",description:"Get the logs of a container."},"List Containers":{command:"docker-compose ps -a",description:"Get a list of containers."},"Kill Containers":{command:"docker-compose kill",description:"Get a list of containers."},"Install/Run Sourcegraph":{command:"docker-compose up -d",description:"Builds, (re)creates, starts, and attaches to containers for Sourcegraph. `-d` flag starts the container in the detached mode where the container runs in the background."},"Shutdown Sourcegraph":{command:"docker-compose down",description:"Stops containers and removes containers, networks, volumes, and images created by docker up."},"Run Bash Shell":{command:"docker-compose exec -it ",option:"$CONTAINER",command2:" bash",description:"This allows you to execute an interactive bash shell on a running container."},"Run Interative Shell":{command:"docker-compose exec -it ",option:"$CONTAINER",command2:" shell",description:"This allows you to execute an interactive shell on a running container."}},Kubernetes:{Function:{value:"Function",command:"[CHOOSE FUNCTION]",description:"Default option"},"Get Logs":{command:"kubectl logs -f ",option:"$POD",description:"Get the logs of a specified pod."},"List Pods":{command:"kubectl get pods -A ",description:"Get a list of pods within the cluster and their health status."},"Describe Pod":{command:"kubectl describe ",option:"$POD",description:"Display detailed information about the status of a single pod"},"Restart Sourcegraph":{command:"kubectl rollout restart deployment/sourcegraph-frontend -n prod ",option:"$POD",description:"Restart Sourcegraph Instance by restarting the frontend pod."},"Get Events":{command:"kubectl get events ",description:"List all events in the cluster\u2019s history."},"Delete a Pod":{command:"kubectl delete pod ",option:"$POD",description:"Delete a failing pod so that it will get recreated, possibly on a different node."},"List Persistent Volume Claims (PVCs)":{command:"kubectl get pvc",description:"List all Persistent Volume Claims (PVCs) and their statuses."},"List Persistent Volumes (PVs)":{command:"kubectl get pv",description:"List all Persistent Volumes (PVs) that have been provisioned."},"Port Forward Sourcegraph":{command:"kubectl port-forward svc/sourcegraph-frontend 3080:30080",description:"This allows you to access your deployed Sourcegraph instance locally."},"Run Interative Shell":{command:"kubectl exec -it ",option:"$POD",command2:" sh",description:"This allows you to execute an interactive shell on a Pod."},"Check Dirty Database":{command:"kubectl exec ",option:"$PGSQL_POD",command2:" -- psql -U sg -c 'SELECT * FROM schema_migrations'",description:"Get inside the PGSQL Pod to check for dirty database."}}},p=function(e){var t=[];for(var n in e)t.push(n);return console.log(t),t};n(13);function j(e){var t=e.selectedDeployment,n=e.selectedAction,c=e.setSelectedAction,o=e.option,a=e.setOption,s=e.setCommand,i=e.namespace,l=e.hasNamespace,d=e.setGeneratedURI,j=u.Docker,h=u["Docker Compose"],b=u.Kubernetes,O=p(j),g=p(h),v=p(b);return Object(r.jsxs)("div",{className:"actions-container",children:["Docker"===t&&Object(r.jsxs)(r.Fragment,{children:[Object(r.jsx)(m,{selectedAction:n,defaultValue:n,optionValues:O,option:o,setOption:a,map:j,setSelectedAction:c,command:s,setCommand:s,setGeneratedURI:d}),j[n].option&&Object(r.jsx)("div",{className:"action-option",children:Object(r.jsx)("input",{type:"text",placeholder:j[n].option,value:o,onChange:function(e){return a(e.target.value)},className:"text-input"})})]}),"Docker Compose"===t&&Object(r.jsxs)(r.Fragment,{children:[Object(r.jsx)(m,{selectedAction:n,defaultValue:n,optionValues:g,map:h,option:o,setOption:a,setSelectedAction:c,command:s,setCommand:s,setGeneratedURI:d}),h[n].option&&Object(r.jsx)("div",{className:"action-option",children:Object(r.jsx)("input",{type:"text",placeholder:h[n].option,value:o,onChange:function(e){return a(e.target.value)},className:"text-input"})})]}),"Kubernetes"===t&&Object(r.jsxs)(r.Fragment,{children:[Object(r.jsx)(m,{selectedAction:n,defaultValue:n,optionValues:v,map:b,option:o,setOption:a,setSelectedAction:c,setCommand:s,command:s,hasNamespace:l,namespace:i,setGeneratedURI:d}),b[n].option&&Object(r.jsx)("div",{className:"action-option",children:Object(r.jsx)("input",{type:"text",placeholder:b[n].option,value:o,onChange:function(e){return a(e.target.value)},className:"text-input"})})]})]})}n(14);function h(e){var t=e.deployment,n=e.action,o=e.namespace,a=e.option,s=e.generatedURI,i=e.setGeneratedURI,l=function(){var e=window.location.href.split("?")[0];if(0!==s.length)return i(""),void(window.location.href=e);var c=(t?"?deployment=".concat(encodeURIComponent(t)):"")+(n?"&function=".concat(encodeURIComponent(n)):"")+(o?"&namespace=".concat(o):"")+(a?"&option=".concat(a):"");i("".concat(e).concat(c))};return Object(c.useEffect)((function(){}),[s]),Object(r.jsx)(r.Fragment,{children:"Function"===n?Object(r.jsx)("button",{className:"generate-btn",onClick:l,disabled:!0,children:"Generate URL for re-use"}):Object(r.jsx)("button",{className:"generate-btn",onClick:l,children:""!==s?Object(r.jsx)(r.Fragment,{children:"Clear Command"}):Object(r.jsx)(r.Fragment,{children:"Generate URL for re-use"})})})}n(15);function b(e){var t=e.selectedDeployment,n=e.selectedAction,o=e.namespace,a=e.option,s=e.generatedURI,l=e.setGeneratedURI,d=Object(c.useState)(!1),m=Object(i.a)(d,2),u=m[0],p=m[1],j=function(){navigator.clipboard.writeText(s),p(!0)};return Object(c.useEffect)((function(){u&&setTimeout((function(){p(!1)}),3e3)}),[u,p]),Object(r.jsxs)("div",{className:"generated-uri-container",children:[Object(r.jsx)("input",{className:"generated-uri",type:"text",placeholder:"Generated URL will appear here.",value:s,readOnly:!0}),Object(r.jsxs)("div",{className:"copied-url-container",children:[Object(r.jsx)("p",{className:"copied-message ".concat(u&&"show"),children:"URL copied to clipboard"}),Object(r.jsxs)("div",{children:[Object(r.jsx)(h,{deployment:t,action:n,namespace:o,option:a,setGeneratedURI:l,generatedURI:s}),s?Object(r.jsx)("button",{className:"copy-url",onClick:j,children:"Copy URL"}):Object(r.jsx)("button",{className:"copy-url",onClick:j,disabled:!0,children:"Copy URL"})]})]})]})}n(16),n(4);function O(e){var t=e.func,n=e.info,o=e.currentInfoOpen,a=e.setCurrentInfoOpen,s=Object(c.useState)(!1),l=Object(i.a)(s,2),d=l[0],m=l[1],u=Object(c.useState)(!1),p=Object(i.a)(u,2),j=p[0],h=p[1],b=function(){o!==t?(a(t),h(!0)):(a("Function"),h(!1))};return Object(c.useEffect)((function(){}),[o]),Object(r.jsx)(r.Fragment,{children:"Function"!==t&&Object(r.jsxs)("li",{className:"desc-item",onMouseEnter:function(){return m(!0)},onMouseLeave:function(){return m(!1)},onClick:b,children:[Object(r.jsxs)("div",{className:"row ".concat(o===t&&"expanded"),children:[Object(r.jsx)("div",{children:t}),Object(r.jsxs)("button",{className:"expand ".concat(d&&"active"),onClick:b,children:[Object(r.jsx)("div",{children:"i\xa0"}),j&&o===t?Object(r.jsx)("div",{className:"rotated",children:"<"}):Object(r.jsx)("div",{className:"not-rotated",children:"<"})]})]}),o===t&&Object(r.jsx)("div",{className:"command-info",children:Object(r.jsx)("ul",{className:"description",children:Object(r.jsx)("li",{children:n.description})})})]})})}function g(e){var t=e.selectedDeployment,n=u[t],o=p(n),a=Object(c.useState)("Function"),s=Object(i.a)(a,2),l=s[0],d=s[1],m=o.length;return Object(r.jsxs)("div",{children:[Object(r.jsxs)("h4",{className:"section right",children:["Descriptions \xa0",0!==m&&Object(r.jsx)("span",{className:"instruction",children:"(click to expand)"})]}),0!==m?Object(r.jsx)("ul",{className:"desc-list",children:o.map((function(e,t){var c=n[e];return Object(r.jsx)(O,{func:o[t],info:c,currentInfoOpen:l,setCurrentInfoOpen:d},"desc-".concat(t))}))}):Object(r.jsx)("div",{className:"desc-list placeholder",children:Object(r.jsx)("p",{children:"Choose Deployment to list function descriptions."})})]})}n(17);function v(){return Object(r.jsxs)("div",{className:"or-container",children:[Object(r.jsx)("div",{className:"dash"}),Object(r.jsx)("p",{className:"or",children:"or"}),Object(r.jsx)("div",{className:"dash"})]})}n(18);function x(e){var t=e.selectedAction,n=e.copyCommand;return Object(r.jsx)(r.Fragment,{children:"Function"===t?Object(r.jsx)("button",{className:"copy-button",onClick:n,disabled:!0,children:"Copy Command"}):Object(r.jsx)("button",{className:"copy-button",onClick:n,children:"Copy Command"})})}n(19);function f(e){var t=e.selectedDeployment,n=e.selectedAction,o=e.command,a=Object(c.useState)(!1),s=Object(i.a)(a,2),l=s[0],d=s[1];return Object(c.useEffect)((function(){l&&setTimeout((function(){d(!1)}),3e3)}),[l,d]),Object(r.jsxs)("div",{className:"generated-command-container",children:[Object(r.jsx)("div",{className:"generated-command",children:"select-deployment"===t?Object(r.jsx)(r.Fragment,{children:"[SELECT DEPLOYMENT TYPE and FUNCTION]"}):Object(r.jsx)(r.Fragment,{children:o})}),Object(r.jsxs)("div",{className:"btns-container",children:[Object(r.jsx)("p",{className:"copied-message ".concat(l&&"show"),children:"Command copied to clipboard."}),Object(r.jsx)(x,{selectedAction:n,copyCommand:function(){navigator.clipboard.writeText(o),d(!0)}})]})]})}var N=function(){var e=new URLSearchParams(window.location.search),t=e.get("deployment"),n=e.get("function"),o=e.get("namespace"),a=e.get("option"),s=Object(c.useState)(t||"select-deployment"),d=Object(i.a)(s,2),m=d[0],u=d[1],p=Object(c.useState)(n||"Function"),h=Object(i.a)(p,2),O=h[0],x=h[1],N=Object(c.useState)(o||""),C=Object(i.a)(N,2),y=C[0],k=C[1],S=Object(c.useState)(!!o),R=Object(i.a)(S,2),I=R[0],D=R[1],w=Object(c.useState)(a||""),A=Object(i.a)(w,2),F=A[0],U=A[1],G=Object(c.useState)(""),L=Object(i.a)(G,2),E=L[0],T=L[1],P=Object(c.useState)(""),V=Object(i.a)(P,2),$=V[0],K=V[1];return Object(r.jsxs)("div",{className:"App",children:[Object(r.jsx)("img",{alt:"sourcegraph-logo",src:"https://github.com/sourcegraph/support-generator/blob/main/public/images/Sourcegraph_Logo_FullColor_light.png?raw=true",className:"logo"}),Object(r.jsx)("h2",{className:"subtitle",children:"Command Line Generator"}),Object(r.jsxs)("div",{className:"container",children:[Object(r.jsx)("div",{className:"actions",children:Object(r.jsxs)("div",{className:"deploy-container",children:[Object(r.jsx)(l,{selectedDeployment:m,setSelectedDeployment:u,setSelectedAction:x,hasNamespace:I,setHasNamespace:D,namespace:y,setNamespace:k,setCommand:T,setOption:U,setGeneratedURI:K}),Object(r.jsx)(j,{selectedDeployment:m,selectedAction:O,setSelectedAction:x,option:F,setOption:U,command:E,setCommand:T,hasNamespace:I,namespace:y,setGeneratedURI:K})]})}),Object(r.jsx)("div",{className:"line-break"}),Object(r.jsx)("div",{className:"descriptions-container",children:Object(r.jsx)(g,{selectedDeployment:m})})]}),Object(r.jsxs)("div",{className:"user-options-container",children:[Object(r.jsx)(f,{selectedDeployment:m,selectedAction:O,command:E,namespace:y,option:F,setGeneratedURI:K}),Object(r.jsx)(v,{}),Object(r.jsx)(b,{selectedDeployment:m,selectedAction:O,namespace:y,option:F,generatedURI:$,setGeneratedURI:K})]})]})},C=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,21)).then((function(t){var n=t.getCLS,c=t.getFID,o=t.getFCP,a=t.getLCP,s=t.getTTFB;n(e),c(e),o(e),a(e),s(e)}))};s.a.render(Object(r.jsx)(o.a.StrictMode,{children:Object(r.jsx)(N,{})}),document.getElementById("root")),C()}],[[20,1,2]]]);
//# sourceMappingURL=main.191b199f.chunk.js.map